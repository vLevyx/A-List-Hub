(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{2499:function(e,t,s){Promise.resolve().then(s.bind(s,5186))},5186:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(7437),r=s(29),i=s.n(r),l=s(2495),n=s(4603),o=s(2265);let c={1:[0,1,3],2:[0,1,2,4],3:[1,2,5],4:[0,3,4,6],5:[1,3,4,5,7],6:[2,4,5,8],7:[3,6,7],8:[4,6,7,8],9:[5,7,8]};function d(){(0,l.j)();let{hasAccess:e,loading:t}=(0,n.a)(),[s,r]=(0,o.useState)(Array(9).fill(!0)),[d,u]=(0,o.useState)([]),[f,x]=(0,o.useState)(""),[b,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!1),[j,v]=(0,o.useState)(0),[p,w]=(0,o.useState)(!0),[N,y]=(0,o.useState)(!1),_=(0,o.useRef)(Array(9).fill(null));(0,o.useEffect)(()=>{let e=localStorage.getItem("autoSolveThreshold");null!==e&&v(parseInt(e));let t=localStorage.getItem("highlightSolution");null!==t&&w("true"===t)},[]),(0,o.useEffect)(()=>{t||e||(window.location.href="/")},[e,t]);let S=(e,t)=>e.length===t.length&&e.every((e,s)=>e===t[s]),k=(e,t)=>{let s=[];return!function a(r,i){if(i.length===t){s.push([...i]);return}for(let t=r;t<e.length;t++)i.push(e[t]),a(t+1,i),i.pop()}(0,[]),s},A=(e,t)=>{let s=[...e];for(let e of t)for(let t of c[e])s[t]^=1;return s},I=e=>{let t=[...s];t[e]=!t[e],r(t),j>0&&t.filter(e=>!e).length>=j&&requestAnimationFrame(()=>{C(t)})},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(N)return;let t=e.map(e=>e?1:0),a=[1,2,3,4,5,6,7,8,9];for(let e=0;e<=9;e++)for(let s of k(a,e))if(S(A(Array(9).fill(1),s),t)){u(s),x("Solution:"),p&&E(s);return}u([]),x("No solution found.")},E=async e=>{for(let t of(y(!0),e)){let e=t-1,s=_.current[e];s&&(s.classList.add("highlight"),await new Promise(e=>setTimeout(e,300)),s.classList.remove("highlight"))}y(!1)},O=()=>{h(!b),g(!1)},T=()=>{g(!m),h(!1)};return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#121212]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#00c6ff]"})}):e?(0,a.jsxs)("div",{className:"jsx-28b0937af3f9206 min-h-screen bg-gradient-to-br from-[#121212] to-[#1a1a1a] text-[#e0e0e0] flex flex-col items-center px-4 py-8",children:[(0,a.jsx)("h1",{className:"jsx-28b0937af3f9206 text-4xl md:text-5xl font-bold my-4 text-white drop-shadow-md",children:"Code Lock Solver"}),(0,a.jsx)("button",{onClick:O,"aria-label":"Help",className:"jsx-28b0937af3f9206 absolute right-20 top-20 md:top-24 text-2xl text-[#e0e0e0] hover:text-[gold] hover:scale-110 transition-all z-50",children:"❓"}),(0,a.jsx)("button",{onClick:T,"aria-label":"Settings",className:"jsx-28b0937af3f9206 absolute right-8 top-20 md:top-24 text-2xl text-[#e0e0e0] hover:text-[gold] hover:scale-110 transition-all z-50",children:"⚙️"}),b&&(0,a.jsxs)("div",{className:"jsx-28b0937af3f9206 fixed top-20 right-4 md:right-16 bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 text-[#e0e0e0] p-5 rounded-2xl max-w-xs md:max-w-sm max-h-[70vh] overflow-y-auto z-50 shadow-xl",children:[(0,a.jsx)("strong",{className:"jsx-28b0937af3f9206",children:"How to Use:"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),"This Code Lock Solver is used for the"," ",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"ELAN Life ARMA Server"})," during",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:" fuel station robberies."}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),'When robbing, you\'ll see a "Lights Out" puzzle on crates. You have'," ",(0,a.jsx)("strong",{className:"jsx-28b0937af3f9206",children:"3 seconds"})," to view it before it resets.",(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"Use this tool on a second device"})," ","(like a phone or tablet). Tap the boxes on this grid to match the"," ",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"[OFF]"})," lights you see in-game.",(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),'Tap "Solve" to view the solution. Then quickly tap the correct boxes in-game in the shown order to complete the puzzle.',(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("hr",{className:"jsx-28b0937af3f9206 border-t border-white/20 my-3"}),(0,a.jsx)("strong",{className:"jsx-28b0937af3f9206",children:"Settings Explained:"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"Auto Solve Threshold:"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),"If enabled, this"," ",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"automatically triggers the solver"})," ","when the selected number of lights are toggled"," ",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"OFF"}),". Set to",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:" OFF"})," to disable auto-solving entirely.",(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"Highlight Solution:"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),"When enabled, the solver will"," ",(0,a.jsx)("span",{className:"jsx-28b0937af3f9206 text-[gold]",children:"highlight the correct grid squares in order"})," ","after solving to help you follow the solution visually. Turn this OFF for a quicker, distraction-free solution.",(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("div",{onClick:O,className:"jsx-28b0937af3f9206 text-right mt-3 text-[#bbb] cursor-pointer hover:text-white",children:"✖ Close"})]}),m&&(0,a.jsxs)("div",{className:"jsx-28b0937af3f9206 fixed top-20 right-4 md:right-16 bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 text-[#e0e0e0] p-5 rounded-2xl max-w-xs md:max-w-sm z-50 shadow-xl",children:[(0,a.jsx)("strong",{className:"jsx-28b0937af3f9206",children:"Customizations:"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsxs)("div",{className:"jsx-28b0937af3f9206 mb-4",children:["Auto Solve Threshold:",(0,a.jsx)("br",{className:"jsx-28b0937af3f9206"}),(0,a.jsxs)("select",{id:"thresholdSelect",value:j,onChange:e=>{let t=parseInt(e.target.value);v(t),localStorage.setItem("autoSolveThreshold",t.toString())},className:"jsx-28b0937af3f9206 w-full mt-2 p-2.5 bg-[#2a2a2a] text-[#e0e0e0] border border-white/10 rounded-lg focus:outline-none focus:border-[gold] focus:ring-1 focus:ring-[gold]/30",children:[(0,a.jsx)("option",{value:"0",className:"jsx-28b0937af3f9206",children:"OFF"}),(0,a.jsx)("option",{value:"1",className:"jsx-28b0937af3f9206",children:"1"}),(0,a.jsx)("option",{value:"2",className:"jsx-28b0937af3f9206",children:"2"}),(0,a.jsx)("option",{value:"3",className:"jsx-28b0937af3f9206",children:"3"}),(0,a.jsx)("option",{value:"4",className:"jsx-28b0937af3f9206",children:"4"}),(0,a.jsx)("option",{value:"5",className:"jsx-28b0937af3f9206",children:"5"}),(0,a.jsx)("option",{value:"6",className:"jsx-28b0937af3f9206",children:"6"}),(0,a.jsx)("option",{value:"7",className:"jsx-28b0937af3f9206",children:"7"}),(0,a.jsx)("option",{value:"8",className:"jsx-28b0937af3f9206",children:"8"})]})]}),(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 mb-4",children:(0,a.jsxs)("label",{className:"jsx-28b0937af3f9206 flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",id:"highlightToggle",checked:p,onChange:e=>{w(e.target.checked),localStorage.setItem("highlightSolution",e.target.checked.toString())},className:"jsx-28b0937af3f9206 accent-[gold]"}),"Highlight Solution"]})}),(0,a.jsx)("div",{onClick:T,className:"jsx-28b0937af3f9206 text-right mt-3 text-[#bbb] cursor-pointer hover:text-white",children:"✖ Close"})]}),(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 w-full max-w-[320px] mb-6 sticky top-0 z-10",children:(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 grid grid-cols-3 gap-2.5 p-3 bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 rounded-2xl",children:s.map((e,t)=>(0,a.jsx)("div",{ref:e=>{_.current[t]=e},onClick:()=>I(t),role:"button",tabIndex:0,"aria-label":"Cell ".concat(t+1),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),I(t))},className:"jsx-28b0937af3f9206 "+"aspect-square ".concat(e?"bg-[gold] text-black":"bg-[#2a2a2a] text-[#e0e0e0]"," \n                flex items-center justify-center text-xl md:text-2xl font-semibold \n                border-2 ").concat(e?"border-white/20":"border-white/10"," \n                rounded-xl cursor-pointer shadow-md transition-all duration-100\n                hover:shadow-lg"),children:t+1},t))})}),(0,a.jsxs)("div",{className:"jsx-28b0937af3f9206 flex justify-center gap-4 mb-6 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>C(),disabled:N,className:"jsx-28b0937af3f9206 px-6 py-3 text-base md:text-lg font-semibold bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 text-[#e0e0e0] rounded-xl shadow-md hover:bg-white/10 hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Solve"}),(0,a.jsx)("button",{onClick:()=>{r(Array(9).fill(!0)),u([]),x("")},className:"jsx-28b0937af3f9206 px-6 py-3 text-base md:text-lg font-semibold bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 text-[#e0e0e0] rounded-xl shadow-md hover:bg-white/10 hover:shadow-lg transition-all",children:"Reset"})]}),f&&(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 text-lg md:text-xl font-semibold mb-3",children:f}),d.length>0&&(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 flex gap-2.5 p-3 bg-[rgba(20,20,20,0.75)] backdrop-blur-xl border border-white/15 rounded-2xl overflow-x-auto max-w-full",children:d.map((e,t)=>(0,a.jsx)("div",{className:"jsx-28b0937af3f9206 w-10 h-10 md:w-12 md:h-12 flex-shrink-0 bg-[#2a2a2a] text-[#e0e0e0] flex items-center justify-center text-lg md:text-xl font-semibold border-2 border-white/10 rounded-xl shadow-md",children:e},t))}),(0,a.jsx)(i(),{id:"28b0937af3f9206",children:".highlight.jsx-28b0937af3f9206{-webkit-box-shadow:0 0 20px 5px rgba(255,255,255,.7);-moz-box-shadow:0 0 20px 5px rgba(255,255,255,.7);box-shadow:0 0 20px 5px rgba(255,255,255,.7);-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}div.jsx-28b0937af3f9206::-webkit-scrollbar{height:8px}div.jsx-28b0937af3f9206::-webkit-scrollbar-track{background:rgba(255,255,255,.1);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-28b0937af3f9206::-webkit-scrollbar-thumb{background:rgba(255,255,255,.3);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-28b0937af3f9206::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.4)}"})]}):null}},4603:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return c},a:function(){return o}});var a=s(7437),r=s(2265),i=s(8933),l=s(3448);let n=(0,r.createContext)({user:null,session:null,loading:!0,hasAccess:!1,isTrialActive:!1,signInWithDiscord:async()=>{},signOut:async()=>{},refreshUserData:async()=>{}}),o=()=>{let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};function c(e){let{children:t}=e,[s,o]=(0,r.useState)({user:null,session:null,loading:!0,hasAccess:!1,isTrialActive:!1}),c=(0,i.e)(),d=async e=>{let t=(0,l.Xl)(e);if(!t)return{hasAccess:!1,isTrialActive:!1};try{let{data:e,error:s}=await c.from("users").select("revoked, hub_trial, trial_expiration").eq("discord_id",t).single();if(s||!e)return{hasAccess:!1,isTrialActive:!1};let a=(0,l.$1)(e);return{hasAccess:(0,l.Bi)(e),isTrialActive:a}}catch(e){return{hasAccess:!1,isTrialActive:!1}}},u=async()=>{if(!s.user)return;let{hasAccess:e,isTrialActive:t}=await d(s.user);o(s=>({...s,hasAccess:e,isTrialActive:t}))},f=async()=>{try{let{error:e}=await c.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(e)throw e}catch(e){}},x=async()=>{try{let{error:e}=await c.auth.signOut();if(e)throw e;o({user:null,session:null,loading:!1,hasAccess:!1,isTrialActive:!1})}catch(e){}};return(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:t},error:s}=await c.auth.getSession();if(s){o(e=>({...e,loading:!1}));return}if(null==t?void 0:t.user){var e;let{hasAccess:s,isTrialActive:a}=await d(t.user);o({user:t.user,session:t,loading:!1,hasAccess:s,isTrialActive:a});let r=(0,l.Xl)(t.user),i=(null===(e=t.user.user_metadata)||void 0===e?void 0:e.full_name)||"Discord User";r&&await c.rpc("upsert_user_login",{target_discord_id:r,user_name:i})}else o(e=>({...e,loading:!1}))}catch(e){o(e=>({...e,loading:!1}))}})();let{data:{subscription:e}}=c.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&(null==t?void 0:t.user)){let{hasAccess:e,isTrialActive:s}=await d(t.user);o({user:t.user,session:t,loading:!1,hasAccess:e,isTrialActive:s})}else"SIGNED_OUT"===e&&o({user:null,session:null,loading:!1,hasAccess:!1,isTrialActive:!1})});return()=>e.unsubscribe()},[]),(0,r.useEffect)(()=>{if(!s.user)return;let e=(0,l.Xl)(s.user);if(!e)return;let t=c.channel("user-access-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:"discord_id=eq.".concat(e)},async e=>{await u()}).subscribe();return()=>{c.removeChannel(t)}},[s.user]),(0,a.jsx)(n.Provider,{value:{...s,signInWithDiscord:f,signOut:x,refreshUserData:u},children:t})}},2495:function(e,t,s){"use strict";s.d(t,{j:function(){return o}});var a=s(2265),r=s(9376),i=s(8933),l=s(4603),n=s(3448);function o(){let{user:e}=(0,l.a)(),t=(0,r.usePathname)(),s=(0,i.e)(),o=(0,a.useRef)(null),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!e)return;let a=(0,n.Xl)(e),r=(0,n.Ms)(e);if(!a)return;let i=async()=>{if(o.current)try{await s.from("page_sessions").update({exit_time:new Date().toISOString(),is_active:!1}).eq("id",o.current)}catch(e){}},l=async()=>{if(o.current&&"visible"===document.visibilityState)try{await s.from("page_sessions").update({is_active:!0}).eq("id",o.current)}catch(e){}};(async e=>{try{o.current&&c.current&&await s.from("page_sessions").update({exit_time:new Date().toISOString(),is_active:!1}).eq("id",o.current);let{data:t,error:i}=await s.from("page_sessions").insert([{discord_id:a,username:r,page_path:e,enter_time:new Date().toISOString(),is_active:!0}]).select("id").single();i||(o.current=(null==t?void 0:t.id)||null,c.current=e)}catch(e){}})(t);let d=()=>{"hidden"===document.visibilityState?o.current&&Promise.resolve(s.from("page_sessions").update({is_active:!1}).eq("id",o.current)).then(()=>{}).catch(console.error):"visible"===document.visibilityState&&l()},u=()=>{i()};document.addEventListener("visibilitychange",d),window.addEventListener("beforeunload",u);let f=setInterval(l,3e4);return()=>{document.removeEventListener("visibilitychange",d),window.removeEventListener("beforeunload",u),clearInterval(f),i()}},[e,t]),(0,a.useEffect)(()=>{if(!e||!o.current)return;let a=(0,n.Xl)(e),r=(0,n.Ms)(e);if(!a)return;let i=async()=>{o.current&&await s.from("page_sessions").update({exit_time:new Date().toISOString(),is_active:!1}).eq("id",o.current);let{data:e,error:i}=await s.from("page_sessions").insert([{discord_id:a,username:r,page_path:t,enter_time:new Date().toISOString(),is_active:!0}]).select("id").single();!i&&e&&(o.current=e.id,c.current=t)};c.current!==t&&i()},[t,e])}},8933:function(e,t,s){"use strict";s.d(t,{e:function(){return r}});var a=s(9924);let r=()=>(0,a.AY)("https://dsexkdjxmhgqahrlkvax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRzZXhrZGp4bWhncWFocmxrdmF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0ODAxNTAsImV4cCI6MjA2NDA1NjE1MH0.RW_ROpcNUNZaK9xGH2OFwHBSmFsGrLj-yi3LWCPBCvA")},3448:function(e,t,s){"use strict";s.d(t,{$1:function(){return c},Bi:function(){return d},E$:function(){return o},Ms:function(){return n},Xl:function(){return l},cn:function(){return i}});var a=s(1994),r=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}function l(e){var t,s;return(null==e?void 0:null===(t=e.user_metadata)||void 0===t?void 0:t.provider_id)||(null==e?void 0:null===(s=e.user_metadata)||void 0===s?void 0:s.sub)||null}function n(e){var t,s,a;return(null==e?void 0:null===(t=e.user_metadata)||void 0===t?void 0:t.full_name)||(null==e?void 0:null===(s=e.user_metadata)||void 0===s?void 0:s.name)||(null==e?void 0:null===(a=e.user_metadata)||void 0===a?void 0:a.user_name)||"Discord User"}function o(e){var t;return(null==e?void 0:null===(t=e.user_metadata)||void 0===t?void 0:t.avatar_url)||"https://cdn.discordapp.com/embed/avatars/0.png"}function c(e){if(!(null==e?void 0:e.hub_trial)||!(null==e?void 0:e.trial_expiration))return!1;let t=new Date;return new Date(e.trial_expiration)>t}function d(e){return!!e&&(!1===e.revoked||c(e))}}},function(e){e.O(0,[454,924,847,971,117,744],function(){return e(e.s=2499)}),_N_E=e.O()}]);