(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},5725:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(4753),s(9457),s(2518),s(5866);var r=s(3191),i=s(8716),l=s(7922),a=s.n(l),d=s(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4753)),"C:\\Users\\Tyler\\Documents\\A-List Hub\\src\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\Tyler\\Documents\\A-List Hub\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2518)),"C:\\Users\\Tyler\\Documents\\A-List Hub\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Tyler\\Documents\\A-List Hub\\src\\app\\admin\\page.tsx"],x="/admin/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7165:(e,t,s)=>{Promise.resolve().then(s.bind(s,4189))},5303:()=>{},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},4189:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(326),i=s(7577),l=s(7919),a=s(8064),d=s(9701),n=s(434),c=s(1223);let o=({children:e,className:t=""})=>r.jsx("div",{className:`inline-flex h-12 items-center justify-center rounded-lg bg-white/5 p-1 text-white/70 ${t}`,children:e}),x=({children:e,value:t,onClick:s,active:i,className:l=""})=>r.jsx("button",{onClick:()=>s(t),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-2.5 text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 ${i?"bg-[#00c6ff] text-black shadow-sm":"hover:bg-white/10"} ${l}`,children:e}),h=({children:e,value:t,activeValue:s,className:i=""})=>r.jsx("div",{className:`mt-2 ${t===s?"block":"hidden"} ${i}`,children:e}),u=({message:e,type:t,onClose:s})=>((0,i.useEffect)(()=>{let e=setTimeout(()=>{s()},5e3);return()=>clearTimeout(e)},[s]),r.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md border-l-4 ${"success"===t?"bg-green-900/80 border-green-500 text-green-100":"error"===t?"bg-red-900/80 border-red-500 text-red-100":"bg-blue-900/80 border-blue-500 text-blue-100"} backdrop-blur-md`,children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-1",children:e}),r.jsx("button",{onClick:s,className:"ml-4 text-white/70 hover:text-white",children:"\xd7"})]})}));function m(){(0,l.j)();let{user:e,loading:t}=(0,a.a)(),s=(0,d.e)(),[m,b]=(0,i.useState)("users"),[p,f]=(0,i.useState)([]),[g,w]=(0,i.useState)([]),[j,v]=(0,i.useState)(new Set),[N,_]=(0,i.useState)(null),[y,k]=(0,i.useState)(""),[C,D]=(0,i.useState)(!0),[S,T]=(0,i.useState)(new Set),[A,L]=(0,i.useState)(!1),[U,P]=(0,i.useState)(!1),[$,E]=(0,i.useState)("all"),[q,z]=(0,i.useState)("all"),[I,R]=(0,i.useState)("all"),[F,O]=(0,i.useState)("all"),[M,B]=(0,i.useState)("last_login"),[W,H]=(0,i.useState)(null),[X,G]=(0,i.useState)([]),[V,K]=(0,i.useState)([]),[Q,J]=(0,i.useState)([]),[Y,Z]=(0,i.useState)({}),[ee,et]=(0,i.useState)(""),[es,er]=(0,i.useState)(0),[ei,el]=(0,i.useState)("time"),[ea,ed]=(0,i.useState)(15),[en,ec]=(0,i.useState)(0),[eo,ex]=(0,i.useState)(15),[eh,eu]=(0,i.useState)(""),[em,eb]=(0,i.useState)(""),[ep,ef]=(0,i.useState)(""),[eg,ew]=(0,i.useState)(""),ej=["154388953053659137","344637470908088322","796587763851198474","492053410967846933","487476487386038292"],ev=(0,i.useCallback)(()=>{if(!e)return!1;let t=(0,c.Xl)(e);return!!t&&ej.includes(t)},[e,ej]);(0,i.useCallback)(()=>{let e=s.channel("admin-changes");e.on("postgres_changes",{event:"*",schema:"public",table:"users"},e=>{eN()}),e.on("postgres_changes",{event:"*",schema:"public",table:"admin_logs"},e=>{e_()}),e.on("postgres_changes",{event:"*",schema:"public",table:"page_sessions"},e=>{ey()}),e.subscribe()},[s]);let eN=(0,i.useCallback)(async()=>{try{D(!0);let{data:e,error:t}=await s.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;f(e||[]),eD(e||[]),ek(e||[])}catch(e){eS("Failed to load users","error")}finally{D(!1)}},[s]),e_=(0,i.useCallback)(async()=>{try{let{data:e,error:t}=await s.from("admin_logs").select("*").order("created_at",{ascending:!1}).range(en*eo,(en+1)*eo-1);if(t)throw t;G(e||[])}catch(e){}},[s,en,eo]),ey=(0,i.useCallback)(async()=>{try{let{data:e,error:t}=await s.from("page_sessions").select("page_path, time_spent_seconds, username").not("time_spent_seconds","is",null);if(t)throw t;let r=e||[];J(r);let i={};r.forEach(e=>{e.username&&(i[e.username]||(i[e.username]={}),i[e.username][e.page_path]||(i[e.username][e.page_path]=[]),e.time_spent_seconds&&i[e.username][e.page_path].push(e.time_spent_seconds))}),Z(i)}catch(e){}},[s]),ek=(0,i.useCallback)(async e=>{try{let t=e.filter(e=>{if(!e.last_login)return!1;let t=new Date(e.last_login),s=new Date(Date.now()-3e5);return t>s}),s=new Set(t.map(e=>e.discord_id));T(s)}catch(e){}},[]),eC=(0,i.useCallback)(async e=>{try{let{data:t,error:r}=await s.from("user_blueprints").select("blueprint_name").eq("discord_id",e);if(r)throw r;K(t?.map(e=>e.blueprint_name)||[])}catch(e){K([])}},[s]),eD=(0,i.useCallback)((e=p)=>{let t=[...e];if(y){let e=y.toLowerCase();t=t.filter(t=>t.discord_id.toLowerCase().includes(e)||t.username&&t.username.toLowerCase().includes(e))}if("all"!==$)switch($){case"whitelisted":t=t.filter(e=>!e.revoked);break;case"revoked":t=t.filter(e=>e.revoked);break;case"trial":t=t.filter(e=>e.hub_trial&&e.trial_expiration&&new Date(e.trial_expiration)>new Date)}if("all"!==q){let e=new Date;switch(q){case"active_24h":t=t.filter(t=>t.last_login&&new Date(t.last_login)>new Date(e.getTime()-864e5));break;case"active_7d":t=t.filter(t=>t.last_login&&new Date(t.last_login)>new Date(e.getTime()-6048e5));break;case"active_30d":t=t.filter(t=>t.last_login&&new Date(t.last_login)>new Date(e.getTime()-2592e6));break;case"never_logged":t=t.filter(e=>!e.last_login)}}if("all"!==I)switch(I){case"admin":t=t.filter(e=>ej.includes(e.discord_id));break;case"regular":t=t.filter(e=>!ej.includes(e.discord_id)&&!e.hub_trial);break;case"trial":t=t.filter(e=>e.hub_trial)}if("all"!==F){let e;let s=new Date;switch(F){case"today":e=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"week":e=new Date(s.getTime()-6048e5);break;case"month":e=new Date(s.getTime()-2592e6);break;case"quarter":e=new Date(s.getTime()-7776e6);break;default:e=new Date(0)}t=t.filter(t=>t.created_at&&new Date(t.created_at)>=e)}t.sort((e,t)=>{switch(M){case"username":return(e.username||"").localeCompare(t.username||"");case"login_count":return(t.login_count||0)-(e.login_count||0);case"created_at":return new Date(t.created_at).getTime()-new Date(e.created_at).getTime();case"trial_expiration":let s=e.trial_expiration?new Date(e.trial_expiration).getTime():0;return(t.trial_expiration?new Date(t.trial_expiration).getTime():0)-s;default:let r=e.last_login?new Date(e.last_login).getTime():0;return(t.last_login?new Date(t.last_login).getTime():0)-r}}),w(t)},[p,y,$,q,I,F,M,ej]),eS=(0,i.useCallback)((e,t)=>{H({message:e,type:t})},[]),eT=(0,i.useCallback)(async(t,r,i)=>{if(e)try{let l=(0,c.Xl)(e),a=e.user_metadata?.full_name||e.user_metadata?.name||"Unknown",{error:d}=await s.from("admin_logs").insert([{action:t,description:r,admin_id:l,admin_name:a,target_discord_id:i,created_at:new Date().toISOString()}]);if(d)throw d}catch(e){}},[e,s]),eA=(0,i.useCallback)(async(e,t)=>{if(!e){eS("Discord ID is required","error");return}if(p.some(t=>t.discord_id===e)){eS("User already exists","info");return}try{let{data:r,error:i}=await s.from("users").insert([{discord_id:e,username:t||null,revoked:!1,created_at:new Date().toISOString()}]).select();if(i)throw i;eS("User whitelisted successfully","success"),eT("whitelist",`User ${t||e} whitelisted`,e)}catch(e){eS("Failed to whitelist user","error")}},[p,s,eS,eT]),eL=(0,i.useCallback)(async(e,t)=>{try{let{error:r}=await s.from("users").update({revoked:t}).eq("discord_id",e);if(r)throw r;let i=t?"revoked":"whitelisted";eS(`User ${i} successfully`,"success"),eT(t?"revoke":"whitelist",`${t?"Revoke":"Whitelist"} action performed`,e),N?.discord_id===e&&_(e=>e?{...e,revoked:t}:null)}catch(e){eS("Failed to update user status","error")}},[s,eS,eT,N]),eU=(0,i.useCallback)(async(e,t)=>{let r=new Date;r.setDate(r.getDate()+t);try{let{error:i}=await s.from("users").update({hub_trial:!0,trial_expiration:r.toISOString()}).eq("discord_id",e);if(i)throw i;eS(`Trial extended by ${t} days`,"success"),eT("trial",`${t} Day Trial action performed`,e),N?.discord_id===e&&_(e=>e?{...e,hub_trial:!0,trial_expiration:r.toISOString()}:null)}catch(e){eS("Failed to update trial","error")}},[s,eS,eT,N]),eP=(0,i.useCallback)(async e=>{try{let{error:t}=await s.from("users").update({revoked:!1,trial_expiration:null}).eq("discord_id",e);if(t)throw t;eS("User converted to permanent whitelist","success"),eT("whitelist","Trial converted to permanent whitelist",e),N?.discord_id===e&&_(e=>e?{...e,revoked:!1,trial_expiration:null}:null)}catch(e){eS("Failed to convert trial to permanent","error")}},[s,eS,eT,N]),e$=(0,i.useCallback)(async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{let{error:t}=await s.from("users").delete().eq("discord_id",e);if(t)throw t;eS("User deleted successfully","success"),eT("delete","User deleted",e),N?.discord_id===e&&(L(!1),_(null)),v(t=>{let s=new Set(t);return s.delete(e),s})}catch(e){eS("Failed to delete user","error")}},[s,eS,eT,N]),eE=(0,i.useCallback)(async()=>{if(0===j.size){eS("No users selected","info");return}if(confirm(`Whitelist ${j.size} selected users?`))try{let{error:e}=await s.from("users").update({revoked:!1}).in("discord_id",Array.from(j));if(e)throw e;eS(`${j.size} users whitelisted`,"success"),eT("bulk_whitelist",`Bulk Whitelist action performed for ${j.size} users`),v(new Set)}catch(e){eS("Failed to whitelist users","error")}},[j,s,eS,eT]),eq=(0,i.useCallback)(async()=>{if(0===j.size){eS("No users selected","info");return}if(confirm(`Revoke access for ${j.size} selected users?`))try{let{error:e}=await s.from("users").update({revoked:!0}).in("discord_id",Array.from(j));if(e)throw e;eS(`${j.size} users revoked`,"success"),eT("bulk_revoke",`Bulk Revoke action performed for ${j.size} users`),v(new Set)}catch(e){eS("Failed to revoke users","error")}},[j,s,eS,eT]),ez=(0,i.useCallback)(async()=>{if(0===j.size){eS("No users selected","info");return}if(!confirm(`Add 7-day trial to ${j.size} selected users?`))return;let e=new Date;e.setDate(e.getDate()+7);try{let{error:t}=await s.from("users").update({hub_trial:!0,trial_expiration:e.toISOString()}).in("discord_id",Array.from(j));if(t)throw t;eS(`7-day trial added for ${j.size} users`,"success"),eT("trial",`Bulk trial assignment for ${j.size} users`),v(new Set)}catch(e){eS("Failed to add trials","error")}},[j,s,eS,eT]),eI=(0,i.useCallback)(async()=>{if(0===j.size){eS("No users selected","info");return}if(confirm(`DELETE ${j.size} selected users? This action cannot be undone!`))try{let{error:e}=await s.from("users").delete().in("discord_id",Array.from(j));if(e)throw e;eS(`${j.size} users deleted`,"success"),eT("bulk_delete",`Bulk Delete action performed for ${j.size} users`),v(new Set)}catch(e){eS("Failed to delete users","error")}},[j,s,eS,eT]),eR=(0,i.useCallback)(e=>{v(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},[]),eF=(0,i.useCallback)(()=>{j.size===g.length?v(new Set):v(new Set(g.map(e=>e.discord_id)))},[j,g]),eO=(0,i.useCallback)(async e=>{let t=p.find(t=>t.discord_id===e);t&&(_(t),L(!0),await eC(e))},[p,eC]),eM=(0,i.useCallback)(e=>e?new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",[]),eB=(0,i.useCallback)(e=>{if(!e)return"Never";let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4),r=Math.floor(s/60),i=Math.floor(r/24);return s<1?"Just now":s<60?`${s}m ago`:r<24?`${r}h ago`:i<7?`${i}d ago`:eM(e)},[eM]),eW=(0,i.useCallback)(e=>{if(!e.hub_trial)return"N/A";if(!e.trial_expiration)return"TRIAL";let t=new Date(e.trial_expiration),s=new Date;if(!(t>s))return"EXPIRED";{let e=Math.ceil((t.getTime()-s.getTime())/864e5);return`TRIAL (${e}d)`}},[]),eH=(0,i.useCallback)(e=>{let t=e.toLowerCase();if(t.includes("whitelist")||t.includes("access"))return"bg-green-500/20 text-green-400 border border-green-500/30";if(t.includes("revoke")||t.includes("revoked"))return"bg-red-500/20 text-red-400 border border-red-500/30";if(t.includes("trial"))return"bg-yellow-400/20 text-yellow-300 border border-yellow-400/30";if(t.includes("delete"))return"bg-red-600/20 text-red-300 border border-red-600/30";switch(t){case"whitelisted":case"online":return"bg-green-500/20 text-green-400 border border-green-500/30";case"revoked":return"bg-red-500/20 text-red-400 border border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border border-gray-500/20"}},[]);(0,i.useCallback)((e,t)=>{},[]);let eX=(0,i.useCallback)(e=>{let t={};return e.forEach(e=>{t[e.page_path]||(t[e.page_path]={time:0,sessions:0}),t[e.page_path].time+=e.time_spent_seconds,t[e.page_path].sessions++}),Object.entries(t).sort(([,e],[,t])=>t.time-e.time).slice(0,ea)},[ea]),eG=(0,i.useCallback)(e=>{if(!e||!Y[e])return null;let t=Object.entries(Y[e]).map(([e,t])=>({page:e,sessions:t.length,totalTime:t.reduce((e,t)=>e+t,0),avgTime:t.reduce((e,t)=>e+t,0)/t.length})).filter(e=>e.totalTime/60>=es);return t.sort((e,t)=>{switch(ei){case"sessions":return t.sessions-e.sessions;case"page":return e.page.localeCompare(t.page);default:return t.totalTime-e.totalTime}}),t},[Y,es,ei]),eV=(0,i.useCallback)(()=>X.filter(e=>(!eh||(e.admin_name?.toLowerCase()||"").includes(eh.toLowerCase()))&&(!em||(e.action?.toLowerCase()||"").includes(em.toLowerCase()))&&(!ep||(e.description?.toLowerCase()||"").includes(ep.toLowerCase()))&&(!eg||(e.target_discord_id?.toLowerCase()||"").includes(eg.toLowerCase()))),[X,eh,em,ep,eg]),eK={totalUsers:p.length,whitelistedUsers:p.filter(e=>!e.revoked).length,revokedUsers:p.filter(e=>e.revoked).length,trialUsers:p.filter(e=>e.hub_trial&&e.trial_expiration&&new Date(e.trial_expiration)>new Date).length,onlineUsers:S.size,totalLogins:p.reduce((e,t)=>e+(t.login_count||0),0),activeUsers:p.filter(e=>!!e.last_login&&new Date(e.last_login)>new Date(Date.now()-864e5)).length},eQ={totalUsers:Object.keys(Y).length,totalSessions:Q.length,avgSessionTime:Q.length>0?Q.reduce((e,t)=>e+t.time_spent_seconds,0)/Q.length:0,uniquePages:new Set(Q.map(e=>e.page_path)).size},eJ=e=>{if(!e||!Y[e])return{totalTime:0,totalSessions:0,uniquePages:0};let t=Object.entries(Y[e]),s=t.reduce((e,[,t])=>e+t.length,0);return{totalTime:t.reduce((e,[,t])=>e+t.reduce((e,t)=>e+t,0),0),totalSessions:s,uniquePages:t.length}};return t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#121212]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#00c6ff]"})}):e&&ev()?(0,r.jsxs)("div",{className:"min-h-screen bg-[#121212] text-[#f0f0f0] p-4 md:p-8",children:[(0,r.jsxs)("div",{className:"max-w-[1600px] mx-auto bg-[rgba(30,30,30,0.9)] rounded-xl p-4 md:p-8 border border-white/5 shadow-2xl backdrop-blur-xl relative",children:[r.jsx(n.default,{href:"/",className:"inline-flex items-center text-[#00c6ff] border border-[#00c6ff] rounded-md px-4 py-2 text-sm font-semibold hover:bg-[#00c6ff]/10 transition-colors mb-4",children:"← Back"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#00c6ff] text-center mb-6",children:"Admin Dashboard"}),r.jsx("div",{className:"mb-8 flex justify-center",children:(0,r.jsxs)(o,{children:[r.jsx(x,{value:"users",onClick:b,active:"users"===m,children:"User Management"}),r.jsx(x,{value:"analytics",onClick:b,active:"analytics"===m,children:"Analytics"})]})}),r.jsx(h,{value:"users",activeValue:m,children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("input",{type:"text",id:"newDiscordId",placeholder:"Enter Discord ID",className:"flex-1 p-3 bg-white/5 border border-white/20 rounded-lg text-white"}),r.jsx("input",{type:"text",id:"newUsername",placeholder:"Enter Username",className:"flex-1 p-3 bg-white/5 border border-white/20 rounded-lg text-white"}),r.jsx("button",{onClick:()=>{eA(document.getElementById("newDiscordId").value,document.getElementById("newUsername").value)},className:"bg-[#00c6ff] text-black font-bold py-3 px-6 rounded-lg hover:bg-[#00a9db] transition-colors",children:"Whitelist User"})]}),r.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:r.jsx("button",{onClick:()=>P(!U),className:"text-[#00c6ff] border border-[#00c6ff] px-4 py-2 rounded-lg hover:bg-[#00c6ff]/10 transition-colors",children:U?"Hide Advanced Filters":"Show Advanced Filters"})}),U&&r.jsx("div",{className:"bg-white/2 border border-white/5 rounded-xl p-4 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-white/70",children:"Status"}),(0,r.jsxs)("select",{value:$,onChange:e=>E(e.target.value),className:"p-2 bg-[#2a2a2a] text-white border border-white/20 rounded-lg",children:[r.jsx("option",{value:"all",children:"All Users"}),r.jsx("option",{value:"whitelisted",children:"Whitelisted"}),r.jsx("option",{value:"revoked",children:"Revoked"}),r.jsx("option",{value:"trial",children:"On Trial"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-white/70",children:"Login Activity"}),(0,r.jsxs)("select",{value:q,onChange:e=>z(e.target.value),className:"p-2 bg-[#2a2a2a] text-white border border-white/20 rounded-lg",children:[r.jsx("option",{value:"all",children:"All Activity"}),r.jsx("option",{value:"active_24h",children:"Active 24h"}),r.jsx("option",{value:"active_7d",children:"Active 7d"}),r.jsx("option",{value:"active_30d",children:"Active 30d"}),r.jsx("option",{value:"never_logged",children:"Never Logged In"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-white/70",children:"Account Type"}),(0,r.jsxs)("select",{value:I,onChange:e=>R(e.target.value),className:"p-2 bg-[#2a2a2a] text-white border border-white/20 rounded-lg",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"admin",children:"Admins"}),r.jsx("option",{value:"regular",children:"Regular Users"}),r.jsx("option",{value:"trial",children:"Trial Users"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[r.jsx("label",{className:"text-white/70",children:"Date Range"}),(0,r.jsxs)("select",{value:F,onChange:e=>O(e.target.value),className:"p-2 bg-[#2a2a2a] text-white border border-white/20 rounded-lg",children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"today",children:"Today"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"quarter",children:"This Quarter"})]})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("input",{type:"text",value:y,onChange:e=>k(e.target.value),placeholder:"Search Discord ID, Username, or Email",className:"flex-1 p-3 bg-white/5 border border-white/20 rounded-lg text-white"}),(0,r.jsxs)("select",{value:M,onChange:e=>B(e.target.value),className:"p-3 bg-[#2a2a2a] text-white border border-white/20 rounded-lg",children:[r.jsx("option",{value:"last_login",children:"Sort: Last Login"}),r.jsx("option",{value:"login_count",children:"Sort: Login Count"}),r.jsx("option",{value:"username",children:"Sort: Username"}),r.jsx("option",{value:"created_at",children:"Sort: Date Added"}),r.jsx("option",{value:"trial_expiration",children:"Sort: Trial Expiration"})]}),r.jsx("button",{onClick:eN,disabled:C,className:"bg-[#2a2a2a] text-white border border-white/20 px-6 py-3 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:C?(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white/90 rounded-full animate-spin mr-2"}),"Loading..."]}):"Refresh"})]}),j.size>0&&(0,r.jsxs)("div",{className:"bg-white/2 border border-white/5 rounded-xl p-4 mb-6",children:[(0,r.jsxs)("h3",{className:"text-[#00c6ff] text-lg font-semibold mb-4",children:["Bulk Actions (",j.size," selected)"]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:eE,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Whitelist Selected"}),r.jsx("button",{onClick:eq,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Revoke Selected"}),r.jsx("button",{onClick:ez,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Add 7 Day Trial"}),r.jsx("button",{onClick:eI,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Selected"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"\uD83D\uDC65"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Total Users"}),r.jsx("p",{className:"text-xl font-bold",children:eK.totalUsers})]})]}),(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"⚡"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Online Now"}),r.jsx("p",{className:"text-xl font-bold",children:eK.onlineUsers})]})]}),(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"\uD83D\uDCC8"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Total Logins"}),r.jsx("p",{className:"text-xl font-bold",children:eK.totalLogins})]})]}),(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"\uD83D\uDD12"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Revoked Users"}),r.jsx("p",{className:"text-xl font-bold",children:eK.revokedUsers})]})]}),(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"\uD83C\uDFAF"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Trial Users"}),r.jsx("p",{className:"text-xl font-bold",children:eK.trialUsers})]})]}),(0,r.jsxs)("div",{className:"bg-white/4 border border-white/5 rounded-xl p-4 flex items-center gap-4",children:[r.jsx("div",{className:"text-2xl text-[#00c6ff]",children:"⏰"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider text-[#00c6ff] mb-1",children:"Active Last 24h"}),r.jsx("p",{className:"text-xl font-bold",children:eK.activeUsers})]})]})]}),r.jsx("div",{className:"bg-white/1 border border-white/5 rounded-xl overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-white/3 sticky top-0 z-10",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"p-4 text-left",children:r.jsx("input",{type:"checkbox",checked:j.size===g.length&&g.length>0,onChange:eF,className:"w-4 h-4 rounded bg-white/10 border-white/30 text-[#00c6ff] focus:ring-[#00c6ff]/30"})}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Discord ID"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Username"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Added"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Last Login"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Login Count"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Status"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Trial"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Session"}),r.jsx("th",{className:"p-4 text-left text-[#00c6ff] font-semibold",children:"Actions"})]})}),(0,r.jsxs)("tbody",{children:[g.map(e=>(0,r.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors",onClick:()=>eO(e.discord_id),children:[r.jsx("td",{className:"p-4",onClick:e=>e.stopPropagation(),children:r.jsx("input",{type:"checkbox",checked:j.has(e.discord_id),onChange:()=>eR(e.discord_id),className:"w-4 h-4 rounded bg-white/10 border-white/30 text-[#00c6ff] focus:ring-[#00c6ff]/30"})}),(0,r.jsxs)("td",{className:"p-4",children:[e.discord_id,ej.includes(e.discord_id)&&r.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-black rounded-md",children:"ADMIN"})]}),r.jsx("td",{className:"p-4",children:e.username||"N/A"}),r.jsx("td",{className:"p-4",children:eM(e.created_at)}),r.jsx("td",{className:"p-4",children:e.last_login?eM(e.last_login):"Never"}),r.jsx("td",{className:"p-4",children:e.login_count||0}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${e.revoked?eH("revoked"):eH("whitelisted")}`,children:e.revoked?"REVOKED":"ACCESS"})}),r.jsx("td",{className:"p-4",children:e.hub_trial?e.trial_expiration&&new Date(e.trial_expiration)>new Date?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase whitespace-nowrap ${eH("trial")}`,children:eW(e)}):r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${eH("revoked")}`,children:"EXPIRED"}):"N/A"}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${S.has(e.discord_id)?eH("online"):eH("offline")}`,children:S.has(e.discord_id)?"ONLINE":"OFFLINE"})}),r.jsx("td",{className:"p-4",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"relative inline-block text-left",children:[r.jsx("button",{className:"text-white hover:bg-white/10 rounded-md p-2",onClick:e=>{e.stopPropagation();let t=e.currentTarget.nextElementSibling;t&&t.classList.toggle("hidden")},children:"☰"}),r.jsx("div",{className:"hidden absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-[#2a2a2a] shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,r.jsxs)("div",{className:"py-1",children:[r.jsx("button",{className:"block w-full px-4 py-2 text-left text-sm hover:bg-white/10",onClick:t=>{t.stopPropagation(),eL(e.discord_id,!e.revoked),t.currentTarget.closest(".hidden")?.classList.add("hidden")},children:e.revoked?"Whitelist":"Revoke"}),r.jsx("button",{className:"block w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-white/10",onClick:t=>{t.stopPropagation(),e$(e.discord_id),t.currentTarget.closest(".hidden")?.classList.add("hidden")},children:"Delete"})]})})]})})]},e.discord_id)),0===g.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:10,className:"p-8 text-center text-white/50",children:"No users found matching your filters"})})]})]})})})]})}),r.jsx(h,{value:"analytics",activeValue:m,children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-[#00c6ff] mb-1",children:eQ.totalUsers}),r.jsx("div",{className:"text-xs text-white/70 uppercase tracking-wider",children:"Active Users"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-[#00c6ff] mb-1",children:eQ.totalSessions}),r.jsx("div",{className:"text-xs text-white/70 uppercase tracking-wider",children:"Total Sessions"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-xl p-4 text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-[#00c6ff] mb-1",children:[(eQ.avgSessionTime/60).toFixed(1),"m"]}),r.jsx("div",{className:"text-xs text-white/70 uppercase tracking-wider",children:"Avg Session Time"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-xl p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-[#00c6ff] mb-1",children:eQ.uniquePages}),r.jsx("div",{className:"text-xs text-white/70 uppercase tracking-wider",children:"Unique Pages"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white/[0.05] border border-white/[0.1] rounded-xl overflow-hidden",children:[r.jsx("div",{className:"bg-[#00c6ff]/10 border-b border-[#00c6ff]/20 p-4",children:r.jsx("h2",{className:"text-xl font-semibold text-[#00c6ff]",children:"Top Pages by Time Spent"})}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4",children:(0,r.jsxs)("select",{value:ea,onChange:e=>ed(Number(e.target.value)),className:"bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg",children:[r.jsx("option",{value:10,children:"Top 10"}),r.jsx("option",{value:15,children:"Top 15"}),r.jsx("option",{value:25,children:"Top 25"})]})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-white/[0.03] border-b border-white/10",children:[r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Rank"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Page"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Total Time"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Sessions"})]})}),(0,r.jsxs)("tbody",{children:[eX(Q).map(([e,t],s)=>(0,r.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/[0.03]",children:[(0,r.jsxs)("td",{className:"p-3 font-semibold",children:["#",s+1]}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"bg-white/5 px-2 py-1 rounded text-sm font-mono",children:e})}),(0,r.jsxs)("td",{className:"p-3 font-semibold",children:[(t.time/60).toFixed(1)," min"]}),(0,r.jsxs)("td",{className:"p-3",children:[t.sessions," sessions"]})]},e)),0===eX(Q).length&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-6 text-center text-white/50",children:"No page data available"})})]})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white/[0.05] border border-white/[0.1] rounded-xl overflow-hidden",children:[r.jsx("div",{className:"bg-[#00c6ff]/10 border-b border-[#00c6ff]/20 p-4",children:r.jsx("h2",{className:"text-xl font-semibold text-[#00c6ff]",children:"User Page Analytics"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,r.jsxs)("select",{value:ee,onChange:e=>et(e.target.value),className:"flex-1 bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg",children:[r.jsx("option",{value:"",children:"Select a user..."}),Object.keys(Y).sort().map(e=>r.jsx("option",{value:e,children:e},e))]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-white/70",children:"Min time:"}),r.jsx("input",{type:"number",value:es,onChange:e=>er(Number(e.target.value)),min:0,className:"w-20 bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg"}),r.jsx("span",{className:"text-white/70",children:"minutes"})]}),(0,r.jsxs)("select",{value:ei,onChange:e=>el(e.target.value),className:"bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg",children:[r.jsx("option",{value:"time",children:"Sort by Time"}),r.jsx("option",{value:"sessions",children:"Sort by Sessions"}),r.jsx("option",{value:"page",children:"Sort by Page"})]})]}),ee&&r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-lg p-3 text-center",children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-[#00c6ff] mb-1",children:[(eJ(ee).totalTime/60).toFixed(1),"m"]}),r.jsx("div",{className:"text-xs text-white/70",children:"Total Time"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-[#00c6ff] mb-1",children:eJ(ee).totalSessions}),r.jsx("div",{className:"text-xs text-white/70",children:"Total Sessions"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-[#00c6ff] mb-1",children:eJ(ee).uniquePages}),r.jsx("div",{className:"text-xs text-white/70",children:"Unique Pages"})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-white/[0.03] border-b border-white/10",children:[r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Page"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Sessions"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Total Time"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Avg Time"})]})}),(0,r.jsxs)("tbody",{children:[ee&&eG(ee)?.map(e=>r.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/[0.03]",children:[r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"bg-white/5 px-2 py-1 rounded text-sm font-mono",children:e.page})}),r.jsx("td",{className:"p-3",children:e.sessions}),r.jsxs("td",{className:"p-3 font-semibold",children:[(e.totalTime/60).toFixed(1)," min"]}),r.jsxs("td",{className:"p-3",children:[(e.avgTime/60).toFixed(1)," min"]})]},e.page)),!ee&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-6 text-center text-white/50",children:"Select a user to view their page analytics"})}),ee&&eG(ee)?.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-6 text-center text-white/50",children:"No data matches the current filters"})})]})]})})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/[0.05] border border-white/[0.1] rounded-xl overflow-hidden",children:[r.jsx("div",{className:"bg-[#00c6ff]/10 border-b border-[#00c6ff]/20 p-4",children:r.jsx("h2",{className:"text-xl font-semibold text-[#00c6ff]",children:"Admin Audit Logs"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[r.jsx("input",{value:eh,onChange:e=>eu(e.target.value),placeholder:"Admin name",className:"flex-1 min-w-[200px] bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg"}),r.jsx("input",{value:em,onChange:e=>eb(e.target.value),placeholder:"Action",className:"flex-1 min-w-[200px] bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg"}),r.jsx("input",{value:ep,onChange:e=>ef(e.target.value),placeholder:"Description",className:"flex-1 min-w-[200px] bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg"}),r.jsx("input",{value:eg,onChange:e=>ew(e.target.value),placeholder:"Target Username",className:"flex-1 min-w-[200px] bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg"}),(0,r.jsxs)("select",{value:eo,onChange:e=>ex(Number(e.target.value)),className:"bg-[#1c1c1c] border border-white/20 text-white p-2 rounded-lg",children:[r.jsx("option",{value:15,children:"15 per page"}),r.jsx("option",{value:25,children:"25 per page"}),r.jsx("option",{value:50,children:"50 per page"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-white/[0.03] border-b border-white/10",children:[r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Admin"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Action"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Description"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Target"}),r.jsx("th",{className:"p-3 text-left text-[#00c6ff] font-semibold",children:"Time"})]})}),(0,r.jsxs)("tbody",{children:[eV().map(e=>{let t=p.find(t=>t.discord_id===e.target_discord_id);return(0,r.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/[0.03]",children:[r.jsx("td",{className:"p-3 font-semibold",children:e.admin_name}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${eH(e.action||"")}`,children:e.action})}),r.jsx("td",{className:"p-3",children:e.description}),r.jsx("td",{className:"p-3",children:t?.username||e.target_discord_id||"N/A"}),r.jsx("td",{className:"p-3",children:e.created_at?eM(e.created_at):"N/A"})]},e.id)}),0===eV().length&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-6 text-center text-white/50",children:"No logs match the current filters"})})]})]})}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-4",children:[r.jsx("button",{onClick:()=>ec(e=>Math.max(0,e-1)),disabled:0===en,className:"px-4 py-2 bg-[#1c1c1c] border border-white/20 text-white rounded-lg disabled:opacity-50",children:"← Previous"}),(0,r.jsxs)("span",{className:"text-white/70",children:["Page ",en+1]}),r.jsx("button",{onClick:()=>ec(e=>e+1),disabled:eV().length<eo,className:"px-4 py-2 bg-[#1c1c1c] border border-white/20 text-white rounded-lg disabled:opacity-50",children:"Next →"})]})]})]})]})})]}),A&&N&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>L(!1)}),(0,r.jsxs)("div",{className:"relative w-full max-w-md bg-[#141414] border-l border-white/10 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-[#00c6ff]",children:"User Details"}),r.jsx("button",{onClick:()=>L(!1),className:"text-white/70 hover:text-white text-xl",children:"✕"})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-xl p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-[#00c6ff] mb-2",children:"User Information"}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Discord ID:"}),r.jsx("span",{className:"font-semibold",children:N.discord_id})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Username:"}),r.jsx("span",{className:"font-semibold",children:N.username||"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Status:"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${N.revoked?eH("revoked"):eH("whitelisted")}`,children:N.revoked?"REVOKED":"ACCESS"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Account Type:"}),r.jsx("span",{className:"font-semibold",children:ej.includes(N.discord_id)?r.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-black rounded-md",children:"ADMIN"}):"Regular User"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Created:"}),r.jsx("span",{className:"font-semibold",children:eM(N.created_at)})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Last Login:"}),r.jsx("span",{className:"font-semibold",children:N.last_login?eM(N.last_login):"Never"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Login Count:"}),r.jsx("span",{className:"font-semibold",children:N.login_count||0})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Trial Status:"}),r.jsx("span",{children:N.hub_trial?N.trial_expiration&&new Date(N.trial_expiration)>new Date?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${eH("trial")}`,children:eW(N)}):r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${eH("revoked")}`,children:"EXPIRED"}):"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[r.jsx("span",{className:"text-white/70",children:"Session:"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold uppercase ${S.has(N.discord_id)?eH("online"):eH("offline")}`,children:S.has(N.discord_id)?"ONLINE":"OFFLINE"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-2",children:[r.jsx("span",{className:"text-white/70",children:"Blueprints:"}),(0,r.jsxs)("span",{className:"font-semibold",children:[V.length," Selected"]})]})]}),(0,r.jsxs)("div",{className:"bg-white/[0.02] border border-white/[0.05] rounded-xl p-4 space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-[#00c6ff] mb-2",children:"Quick Actions"}),r.jsx("button",{onClick:()=>eL(N.discord_id,!N.revoked),className:`w-full py-3 px-4 rounded-lg font-semibold ${N.revoked?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"} transition-colors`,children:N.revoked?"Whitelist User":"Revoke Access"}),N.hub_trial&&N.trial_expiration&&new Date(N.trial_expiration)>new Date&&r.jsx("button",{onClick:()=>eP(N.discord_id),className:"w-full py-3 px-4 bg-gradient-to-r from-[#ffd700] to-[#ffed4e] text-black font-semibold rounded-lg hover:shadow-lg transition-all",children:"Convert Trial to Permanent"}),r.jsx("button",{onClick:()=>eU(N.discord_id,7),className:"w-full py-3 px-4 bg-amber-500 text-white font-semibold rounded-lg hover:bg-amber-600 transition-colors",children:"Add 7 Day Trial"}),r.jsx("button",{onClick:()=>eU(N.discord_id,30),className:"w-full py-3 px-4 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition-colors",children:"Add 30 Day Trial"}),r.jsx("button",{onClick:()=>{let e=prompt("Enter number of days for trial:");e&&!isNaN(Number(e))&&Number(e)>0&&eU(N.discord_id,Number(e))},className:"w-full py-3 px-4 bg-[#00c6ff] text-black font-semibold rounded-lg hover:bg-[#00a9db] transition-colors",children:"Custom Trial Duration"}),r.jsx("button",{onClick:()=>e$(N.discord_id),className:"w-full py-3 px-4 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors",children:"Delete User"}),r.jsx("button",{onClick:()=>{alert(`User has ${V.length} blueprints selected:

${V.join("\n")}`)},className:"w-full py-3 px-4 bg-white/10 text-white font-semibold rounded-lg hover:bg-white/20 transition-colors",children:"Show Blueprints"})]}),(0,r.jsxs)("div",{className:"bg-white/[0.02] border border-white/[0.05] rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-[#00c6ff] mb-4",children:"Audit Log"}),(0,r.jsxs)("div",{className:"max-h-[300px] overflow-y-auto space-y-3",children:[X.filter(e=>e.target_discord_id===N.discord_id).slice(0,10).map(e=>(e.action?.toLowerCase().includes("whitelist")||e.action?.toLowerCase().includes("revoke")||e.action?.toLowerCase().includes("trial"),(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-black/20 rounded-lg",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${e.action?.toLowerCase().includes("whitelist")?"bg-green-500":e.action?.toLowerCase().includes("revoke")?"bg-red-500":e.action?.toLowerCase().includes("trial")?"bg-yellow-500":"bg-blue-500"}`}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"font-semibold",children:e.description}),(0,r.jsxs)("div",{className:"text-sm text-white/70",children:["by ",e.admin_name]}),r.jsx("div",{className:"text-xs text-white/50 mt-1",children:e.created_at?eB(e.created_at):"N/A"})]})]},e.id))),0===X.filter(e=>e.target_discord_id===N.discord_id).length&&r.jsx("div",{className:"text-center py-4 text-white/50",children:"No audit logs for this user"})]})]})]})]})]}),W&&r.jsx(u,{message:W.message,type:W.type,onClose:()=>H(null)})]}):null}},7919:(e,t,s)=>{"use strict";s.d(t,{j:()=>d});var r=s(7577),i=s(5047),l=s(9701),a=s(8064);function d(){let{user:e}=(0,a.a)();(0,i.usePathname)(),(0,l.e)(),(0,r.useRef)(null),(0,r.useRef)(null)}},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(9510);let i={title:"Admin Dashboard - A-List ELAN Hub",description:"Admin dashboard for managing users and viewing analytics"};function l({children:e}){return r.jsx(r.Fragment,{children:e})}},4753:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\Tyler\Documents\A-List Hub\src\app\admin\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,180,92],()=>s(5725));module.exports=r})();